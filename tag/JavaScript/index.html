<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Home | perade</title><meta name="gridsome:hash" content="2d3bad68218307b3a2c5dc563902b12b418baaf4"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.12"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Slowly, but steadily"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/blog/assets/static/favicon.ce0531f.02c7a28478250793f4f56eb605c74a33.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/blog/assets/static/favicon.ac8d93a.02c7a28478250793f4f56eb605c74a33.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/blog/assets/static/favicon.b9532cc.02c7a28478250793f4f56eb605c74a33.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/blog/assets/static/favicon.f22e9f3.02c7a28478250793f4f56eb605c74a33.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nanum+Gothic:400,700,800&amp;display=swap&amp;subset=korean"><link rel="preload" href="/blog/assets/css/0.styles.29ec0a33.css" as="style"><link rel="preload" href="/blog/assets/js/app.cbd87594.js" as="script"><link rel="preload" href="/blog/assets/js/page--src-templates-tag-vue.d9ffa9a5.js" as="script"><link rel="prefetch" href="/blog/assets/js/page--node-modules-gridsome-app-pages-404-vue.44105d92.js"><link rel="prefetch" href="/blog/assets/js/page--src-pages-index-vue.5da25d39.js"><link rel="prefetch" href="/blog/assets/js/page--src-templates-post-vue.3da4c6d3.js"><link rel="prefetch" href="/blog/assets/js/vendors~page--src-templates-post-vue.ffac18bc.js"><link rel="stylesheet" href="/blog/assets/css/0.styles.29ec0a33.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/blog/" class="logo active"><span class="logo__text">
    ← Home
  </span></a></div><div class="header__right"><div class="toggle"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><img alt="Github image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 22 22' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cimage x='0' y='0' width='22' height='22' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAALgElEQVR42s1baawlRRW%2by3MZwBnUrur3lCeLqENMnBjir1EUFESUAc0El/ADIqKJGEWMBiECRglLNMYlOuokYCASDMgykBB1BowL0YlbNJEIgxNFJC4zw%2bLA7Xv7%2bZ3uc6pPVfe9t%2b7c9959Lznpfn2rq%2bqcOvs53WpN8ZcaA7AFlP/bNqCbJrbtj7Nta8yCTcybcP9%2bwMcAlwGuYPgs4KOA92LOzbimMqeeg%2bbGPG3%2b31t7Vf9oUZvYggBuc4ntemMSezyeXwDYnibmj7g%2bBQIMcF2at2kj0G8AGvMk4PdYYxveOQ9zHRus36U19SHQflYNef/ETVf9ZgEXAnYCng4Q0whm1tgeEOtZAmN69Ix/c2PV%2b0SQ%2bzD%2bfFxfrDhQEQJEWGlusHLiSUH1CvHEHIv/vwT4Z7FpRgDjM4VYDgTy4lqBIFs9S4zcD/jdrCCGccT4O%2bCLgJd7HJE4blwBxEuE%2bb449Q4vdiQWvpbYW500bbhvBWl6ltQQHgcYa2R8znP1HTHKtf6LfV2J6%2bHMDR3NDelyiUQpX466mt3fB/ibQzxRJ12d6tIyQB7MOQgI8TBgi9I93fDQpkJe3c/xAutxf5Nj86SQ30HDZlcC9PwD0iHVb2Yb4IWiG5R4Toc8c0CXkX8d4CGiPOS7j8n7ik1XEnEPrE8I2sOAueF3gFexvuo2HeSEyBvNUmfg%2bTPM7r2ALVcNeXXinmiQVSFFSboBcFKNE2KJoE9eZB4In6MWz2aLeKNIyD56ao/v0HorSic0KTxc3%2bMWVCy/BpAfphsy1k2kl04NcBlNBHX68sJJSsH1A%2b2es7krZNAmldlis7fsSFo2jbwWKUGsbfqytg2IAPgf4PUeTsPMY%2bXkWLbx5mjc/4vlLQuRl8VY7uQ3jDPLbQqbTGCuzOCSrTtVmgh7AcbHzQ45%2bcRd4dubn5Xa3smV9tJk4V%2bQ24vrX/WGMM5t0ia%2bsuRTFAIOlMPEv5m8gYB5YPsJ9gB%2bDPi1LwbV%2b4ViLMffK4dc44BUPbQV63%2beX%2bwFJy6nQJPvUaJyBOAUPIMttvsbnKOs9PvNIOLEB7xuVhCnJKYg/m/A1wAUVR7Gh/Ui3D/BexqEihHPsuIgE3OJrxRZH6jT77Dj8IYGE6dZjCe027WDpLhpEYt9RRYOghpBkGTzAIi/D9d95b09yBzmjefrQcA1gPkwKuTrbTwuaxCFAXMlrbmRka9EwbLf7HSAMbuKyZKa3Mu9sNVHZBNMzY52lUGETXj%2bAJ49jrlv5bj/A5ifTu/VHPMfyTCP5xsBpHTPBVxFSPHJ3icbV4FPxyozjftLec89T0QrxSyHcQfj2Paix1Q8PWPOYaXWHx61OVP4ztDEDAmR10/hiq9vzgH41goEPldxQN5gOegq4vd2L67RGwfFdmuTZ%2bvmTBPkrRJ8FMrFJSacH9FR/jhlhOYYiU4ZURZZInmvzYTr8Jg5yfywA9PRzowCIf67FbvnQ6xIxoe7U3RfkURRk5ytkB/m25MlEEqeHkaIzI6hN9nWinZUmFrpI6Peta1hToy46RSZBpzb4EMU/onog5N5nU5xOkyRexsUSX0iyBmPO48VSlf0x2qn5VyEauzFTTqgAUQXfN/j0lIBFZp2lJsbKpSbmS3bs0hMlkkPJ247iAOsr7ua9s8m3CBgMot6sk%2bVFKwpkaEEAOLfcU7TjAggiVDc31oeilguMwqHjHG9QE%2b2c750XPpjnJQ%2bOzi/BbxAlGdrRn/KKmwA/IWRH4sD5zPuEPZfYEdkHPvnyq6%2buckErjYHBHs4kxXcIEYMyD/BIW4gFt7SkGUZSrmUKQdidEQz2xkQQJtEy4UYPNs170euo0SZzPxbaPOXK78/HxFr93nyM2d9%2bhURalwwzCFaavZmzUX00s1jzJ9mm8fIhVWlqtas/5gDxLc/Dvf7vBigOacoinwbvfRL7QCNsp9QHLtUrW8mrD/MHNqqbvGbMWKg3Hngk3IsP4JiuSLATU0R4Fr4U2JwT4RDJ7g%2bTC88NSp7w/GAEODrKjBZO8ireCFCpDWuB1oqcTDeeTD2m6oouZZOX%2buBWyYgQN6KyN3lLrmRmO/pIGSNisDdEQRwOLd0ETKCA3ZUSRCzJhCX1JYSgZ/zXvuxHPB0BBeID/ArtVBrTZjBpHLEcH8Y9vTnNN4ZepI4YG%2bEFZDfnsBiR3Hcv0b8AE8BbuRmipF%2bgPrtEaJajB%2bQK4qeLInFWXNBU2Yo0hMUXHbFmo0lFUZet1Zc4XpAZL49ES7Gfote5liAsilmLNXgC1BDwjrthc0mGqzSZryXlxQR3vDcoMoUu6xWEQtsiSx45qomcKHfNLG6RNCih71IWuwzKimSx0SDAIoGzTwQOBBDBMtJRVwpKHqpzqutlj4IutREDI/mAsuSS3yOV%2biPu7Q7bn5SZlVNjOkQXXBnLTubmBUjRBX7m5buAClFwdzPWeEsyqSXNc8f6skvadCeYZfWoCExeoPuIdLpseXq0vLZ3dUQRPTIEt0eKL4oMcb1g3qRjVZlhavUl68Uy2KlEMJwhogqtOYYv3RVmMh2ufnJ%2b/ccwpxt4qJN1yu9GXsC/n%2bQTzMbIuPD2J/aaBbDxOIOj5JChDIahLxQKtlzJHJVbdlP/b6WkyW65wDvz9mSKGMJEbbnNMUceP4K7O1qzH0w6AOI6UfwUvqF/lKKZEtQGZKsyXZbFj6P56LlI4E3VZWvk6KY%2bV0Q6wy8sxCKQYxYNFR/5gqkjd1KGydlpxoj%2bpHIS9/AwGn/8oA6uiOMGp53s5bvB2kw6bU5jVpOqMrKxMl0/2/QwEC1/Psx5kZcPwl43gQccERB7MTegn09WHSiGlVir/oOIpK5tQrxzlrTlOqf2crOTr/Bn76aX9xKVeSiWbIqpjgzyfLoTmYhnafrp4Xl0hFlNHasRCSv43d1g1bmTLHfSRLTRSa4nOb1EYbmhZQaOzvqdM2Akb2MuYVY8sOqnpAFvXu5ks2fTigC7YpY9g8NDVr5CI91XDnvdqlWO%2bviEE9cA/SJQesrITZQGaNNeGcR189Rj4CyEH1uqhB4jhf9uOc1RomAkbFXRQQ3I5G3fofIa2rNUuJT%2b%2bVmcyWfeK%2beGbY/Uhumbo6vYtye2ocQ5TvUWXqinGhMEoVL6bLB0w%2bpL1E1cxEns4v8iaE9g9r8VD%2baB8JGKdX/90YedxGFx4ViLJXdDwB3sba%2bviqixHuIQYBzQkN/4iQttD0W57vD3oVRGrjDSmJRdV%2bJjIss3RO8%2byGMuYLvb2Df/F2ALx9KsKQIcBSJUjwBFPKVDnsU97W4ZWSpqfKz7WapGFu5VidybbBpamtZB2TfRhvHuHVkzg4lUFIEeBng2UgC5A1Nks9g35v87wjs%2bKKj34BkzwrK41oL3yaKZeScE3aQpFWx8xhPBCdDnq6nBLi0JvLEGhumIQZcLJE6O53QnYBL%2bZO4s9hruxjjrpeGxknKaEIAqvWNIQCX7R3by9jnxN5XPo5pRWeyg2YlIcKpqorU01mipq/DlLtqmAuiGynUt4FDCWD9Ri7du0Qe6OawgWuKjya8pONrAX9ic9hXidSM3WLuGjeSPvsPiJhO2kmidEAzARIPef3FyG6sedzUyI8Rh8NZ07tvhrwe3cTlD4raG9gznZQDRhBA9QCbAX%2bvJBzxDaz1/FDmp/6gsikFxfck54/qz%2bWoGTrw0YkAdioOSHwC2Hrg9ZB0rdZSdMtVvap9LVq5zfQF2Rd0hzh9LMkfTNKp7MfYBa3Y4nSAI8Ar01LJ5t5HlOVa9C3D5VWGeoW%2bGxynF1ySouzmfkx3eeP0n3UfK0zEAU4JLjqlWoXDezlUXvCyUMZOJ%2b%2bT1OJt8LW42gjl5s8H4tTh/Q/6QlxOP53AFwii02s4g7uDY48NAeLqa/JVKtiGn66HhBiX5ZlUATeVwpWvMFUm%2bv8m4ljgU0eeEwAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="22" data-src="/blog/assets/static/GitHub-Mark-120px-plus.b5813a3.ef7a02b69836dc8b6a732a54c4200dcb.png" data-srcset="/blog/assets/static/GitHub-Mark-120px-plus.b5813a3.ef7a02b69836dc8b6a732a54c4200dcb.png 22w" data-sizes="(max-width: 22px) 100vw, 22px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/GitHub-Mark-120px-plus.b5813a3.ef7a02b69836dc8b6a732a54c4200dcb.png" class="g-image g-image--loaded" width="22" alt="Github image"></noscript></button><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></div></header><main class="main"><h1 class="tag-title text-center space-bottom">
    # JavaScript
  </h1><div class="posts"><div class="post-card content-box"><div class="post-card__content"><h2 class="post-card__title">[번역] await vs return vs return await</h2><p class="post-card__description">async 함수를 작성할 때 사용하는 await, return, return await 각각의 차이점을 알아본다.</p><div class="post-meta post-card__meta">
   4. March 2020 /
   <strong>2 min read</strong></div><div class="post-tags post-card__tags"></div><a href="/blog/await-vs-return-vs-return-await/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__content"><h2 class="post-card__title">MutationObserver - DOM 변경 감지</h2><p class="post-card__description">Web API 중 하나인 MutationObserver의 기능과 용도를 간단한 예제 코드와 함께 알아본다.</p><div class="post-meta post-card__meta">
   4. February 2020 /
   <strong>2 min read</strong></div><div class="post-tags post-card__tags"></div><a href="/blog/mutation-observer/" class="post-card__link">Link</a></div></div></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020. </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"title":"JavaScript","belongsTo":{"edges":[{"node":{"title":"[번역] await vs return vs return await","path":"\u002Fawait-vs-return-vs-return-await\u002F","date":"4. March 2020","timeToRead":2,"description":"async 함수를 작성할 때 사용하는 await, return, return await 각각의 차이점을 알아본다.","content":"\u003Cblockquote\u003E\n\u003Cp\u003EJake Archibald의 \u003Ca href=\"https:\u002F\u002Fjakearchibald.com\u002F2017\u002Fawait-vs-return-vs-return-await\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eawait vs return vs return await\u003C\u002Fa\u003E 번역글입니다. 굳이 이 글이 아니더라도 모든 번역글은 역자의 의도와 상관없이 원문의 내용과 다르게 전달될 수 있으니 원문도 같이 보시는 걸 권해드립니다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003Easync 함수를 작성할 때 사용하는 \u003Ccode\u003Eawait\u003C\u002Fcode\u003E, \u003Ccode\u003Ereturn\u003C\u002Fcode\u003E, \u003Ccode\u003Ereturn await\u003C\u002Fcode\u003E의 차이점을 알고, 올바른 선택을 하는 것이 중요하다. 아래 예제를 보자.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function waitAndMaybeReject() {\n  \u002F\u002F Wait one second\n  await new Promise(r =\u003E setTimeout(r, 1000));\n\n  \u002F\u002F Toss a coin\n  const isHeads = Boolean(Math.round(Math.random()));\n\n  if (isHeads) return 'yay';\n  throw Error('Boo!');\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E이 함수는 반반의 확률로 Fulfilled(이행) 상태가 되어 'yay'를 던져주거나 Rejected(실패) 상태가 되어 에러를 던지는 promise를 반환한다. 이걸 몇 가지 다른 방식으로 사용해보자.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch2 id=\"just-calling\"\u003E\u003Ca href=\"#just-calling\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJust calling\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function foo() {\n  try {\n    waitAndMaybeReject();\n  }\n  catch (e) {\n    return 'caught';\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E위와 같이 \u003Ccode\u003Efoo\u003C\u002Fcode\u003E를 호출하면 항상 \u003Cstrong\u003Eundefined인 Fulfilled 상태의 promise를 곧바로 리턴\u003C\u002Fstrong\u003E할 것이다. \u003Ccode\u003EwaitAndMaybeReject()\u003C\u002Fcode\u003E를 await 하거나 리턴하지 않았기 때문이다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"awaiting\"\u003E\u003Ca href=\"#awaiting\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EAwaiting\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function foo() {\n  try {\n    await waitAndMaybeReject();\n  }\n  catch (e) {\n    return 'caught';\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode\u003Efoo\u003C\u002Fcode\u003E를 호출하면 이번엔 \u003Cstrong\u003E항상 1초를 기다린 뒤 undefined나 'caught'인 Fulfilled 상태의 promise\u003C\u002Fstrong\u003E를 리턴할 것이다. 위 코드에서 \u003Ccode\u003EwaitAndMaybeReject()\u003C\u002Fcode\u003E를 await 하기 때문에 해당 함수가 Rejected 상태의 promise를 리턴하면 catch 블록이 실행되어 'caught'를 리턴하지만, Fulfilled 상태의 promise를 리턴하면 여전히 await만 할 뿐 아무 동작을 하지 않기 때문에 yay를 얻을 수 없다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"returning\"\u003E\u003Ca href=\"#returning\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EReturning\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function foo() {\n  try {\n    return waitAndMaybeReject();\n  }\n  catch (e) {\n    return 'caught';\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode\u003Efoo\u003C\u002Fcode\u003E를 호출하면 \u003Cstrong\u003E항상 1초를 기다린 뒤, 'yay'를 가진 Fulfilled 상태나 Error('Boo!')를 throw하는 Rejected 상태의 promise\u003C\u002Fstrong\u003E를 리턴할 것이다. \u003Ccode\u003EwaitAndMaybeReject()\u003C\u002Fcode\u003E를 await 하지 않고 바로 리턴하기 때문에 catch 블록은 절대 실행되지 않는다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"return-awaiting\"\u003E\u003Ca href=\"#return-awaiting\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EReturn-awaiting\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function foo() {\n  try {\n    return await waitAndMaybeReject();\n  }\n  catch (e) {\n    return 'caught';\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ccode\u003Efoo\u003C\u002Fcode\u003E를 호출하면 \u003Cstrong\u003E항상 1초를 기다린 뒤, 'yay'나 'caught'를 가진 Fulfilled 상태의 promise\u003C\u002Fstrong\u003E를 리턴할 것이다. \u003Ccode\u003EwaitAndMaybeReject()\u003C\u002Fcode\u003E를 await 했기 때문에 해당 함수가 Rejected 상태의 promise를 리턴하면 catch 블록이 실행되어 'caught'를 리턴하고, Fulfilled 상태이면 'yay'를 리턴한다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E위의 내용들이 혼란스러우면 아래와 같이 두 단계로 생각하면 좀 더 쉬울 것이다.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003Easync function foo() {\n  try {\n    \u002F\u002F waitAndMaybeReject()의 결과가 정해질 때까지 기다린 후,\n    \u002F\u002F 그 값을 fulfilledValue에 할당\n    const fulfilledValue = await waitAndMaybeReject();\n\n    \u002F\u002F 그리고 fulfilledValue를 리턴\n    return fulfilledValue;\n  }\n  catch (e) {\n    \u002F\u002F 만약 waitAndMaybeReject()가 Rejected 상태면\n    \u002F\u002F catch 블록이 실행되기 때문에 'caught'를 리턴\n    return 'caught';\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Feslint\u002Feslint\u002Fblob\u002Fmaster\u002Fdocs\u002Frules\u002Fno-return-await.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ENote\u003C\u002Fa\u003E: async 함수의 리턴값은 항상 Promise.resolve로 wrapped 되어 있기 때문에 return await는 실효성이 없다. 다만 try\u002Fcatch 구문에서는 다른 Promise 함수의 오류를 catch 하기 위해 사용될 수 있다.\u003C\u002Fp\u003E\n"}},{"node":{"title":"MutationObserver - DOM 변경 감지","path":"\u002Fmutation-observer\u002F","date":"4. February 2020","timeToRead":2,"description":"Web API 중 하나인 MutationObserver의 기능과 용도를 간단한 예제 코드와 함께 알아본다.","content":"\u003Cp\u003E예전에 이미지 업로드를 구현할 일이 있었는데, 이미지가 10장을 초과하면 최대 10장까지라는 토스트 메시지를 표시하는 것과 이미지를 1024 이하로 resizing 해야 하는 요구사항이 있었다.\u003C\u002Fp\u003E\n\u003Cp\u003E토스트를 호출하는 로직과 img와 canvas를 활용한 이미지 resizing 로직을 구현 후 테스트를 진행했는데, 불필요한 렌더링이 발생하여 페이지가 깜빡거리거나 토스트가 버벅이며 올라오는 등의 현상이 있었다.\u003C\u002Fp\u003E\n\u003Cp\u003E이는 별개의 두 로직이 DOM에 동시에 접근하다보니 생긴 현상이었다. 문제 해결을 위해 조사하던 중 MutationObserver 라는 Web API가 있다는 것을 알게 됐다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch1 id=\"mutationobserver\"\u003E\u003Ca href=\"#mutationobserver\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EMutationObserver\u003C\u002Fh1\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fko\u002Fdocs\u002FWeb\u002FAPI\u002FMutationObserver\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EMutationObserver\u003C\u002Fa\u003E는 DOM 트리의 변경을 감시하는 기능을 제공한다. 아래는 MDN에서 제공하는 예제 코드이다.\u003C\u002Fp\u003E\n\u003Cdiv\u003E\n    \u003Cdiv id=\"gist101533940\" class=\"gist\"\u003E\n    \u003Cdiv class=\"gist-file\"\u003E\n      \u003Cdiv class=\"gist-data\"\u003E\n        \u003Cdiv class=\"js-gist-file-update-container js-task-list-container file-box\"\u003E\n  \u003Cdiv id=\"file-example-mutationobserver-js\" class=\"file\"\u003E\n    \n\n  \u003Cdiv itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \"\u003E\n      \n\u003Ctable class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F** https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FMutationObserver *\u002F\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC2\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC3\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 감시할 대상 Node\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-k\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003EtargetNode\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E=\u003C\u002Fspan\u003E \u003Cspan class=pl-smi\u003Edocument\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003EgetElementById\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s\u003E&#39;some-id&#39;\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC6\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 감시자 설정\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-k\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Econfig\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E=\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E{\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003Eattributes\u003C\u002Fspan\u003E: \u003Cspan class=pl-c1\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E,\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003EchildList\u003C\u002Fspan\u003E: \u003Cspan class=pl-c1\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E,\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003Esubtree\u003C\u002Fspan\u003E: \u003Cspan class=pl-c1\u003Etrue\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E}\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC9\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 변경이 감지되었을 때 실행할 Callback function\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC10\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-k\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=pl-en\u003Ecallback\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E=\u003C\u002Fspan\u003E \u003Cspan class=pl-k\u003Efunction\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s1\u003EmutationsList\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E,\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Eobserver\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E{\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC11\" class=\"blob-code blob-code-inner js-file-line\"\u003E  \u003Cspan class=pl-k\u003Efor\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-k\u003Elet\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Emutation\u003C\u002Fspan\u003E \u003Cspan class=pl-k\u003Eof\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003EmutationsList\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E{\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"\u003E    \u003Cspan class=pl-k\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s1\u003Emutation\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-c1\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E===\u003C\u002Fspan\u003E \u003Cspan class=pl-s\u003E&#39;childList&#39;\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E{\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"\u003E      \u003Cspan class=pl-smi\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s\u003E&#39;A child node has been added or removed.&#39;\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC14\" class=\"blob-code blob-code-inner js-file-line\"\u003E    \u003Cspan class=pl-kos\u003E}\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC15\" class=\"blob-code blob-code-inner js-file-line\"\u003E    \u003Cspan class=pl-k\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=pl-k\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s1\u003Emutation\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-c1\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E===\u003C\u002Fspan\u003E \u003Cspan class=pl-s\u003E&#39;attributes&#39;\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E \u003Cspan class=pl-kos\u003E{\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC16\" class=\"blob-code blob-code-inner js-file-line\"\u003E      \u003Cspan class=pl-smi\u003Econsole\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003Elog\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s\u003E&#39;The &#39;\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E+\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Emutation\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-c1\u003EattributeName\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E+\u003C\u002Fspan\u003E \u003Cspan class=pl-s\u003E&#39; attribute was modified.&#39;\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC17\" class=\"blob-code blob-code-inner js-file-line\"\u003E    \u003Cspan class=pl-kos\u003E}\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC18\" class=\"blob-code blob-code-inner js-file-line\"\u003E  \u003Cspan class=pl-kos\u003E}\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC19\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-kos\u003E}\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC20\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC21\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 감시자 인스턴스 생성\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC22\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-k\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Eobserver\u003C\u002Fspan\u003E \u003Cspan class=pl-c1\u003E=\u003C\u002Fspan\u003E \u003Cspan class=pl-k\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=pl-v\u003EMutationObserver\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003Ecallback\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC23\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC24\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 감시할 대상 Node를 전달하여 감시 시작\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC25\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-s1\u003Eobserver\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003Eobserve\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-s1\u003EtargetNode\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E,\u003C\u002Fspan\u003E \u003Cspan class=pl-s1\u003Econfig\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC26\" class=\"blob-code blob-code-inner js-file-line\"\u003E\n\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC27\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-c\u003E\u002F\u002F 감시 종료\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n      \u003Ctr\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"\u003E\u003C\u002Ftd\u003E\n        \u003Ctd id=\"file-example-mutationobserver-js-LC28\" class=\"blob-code blob-code-inner js-file-line\"\u003E\u003Cspan class=pl-s1\u003Eobserver\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E.\u003C\u002Fspan\u003E\u003Cspan class=pl-en\u003Edisconnect\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E(\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E)\u003C\u002Fspan\u003E\u003Cspan class=pl-kos\u003E;\u003C\u002Fspan\u003E\u003C\u002Ftd\u003E\n      \u003C\u002Ftr\u003E\n\u003C\u002Ftable\u003E\n\n\n  \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n      \u003C\u002Fdiv\u003E\n      \u003Cdiv class=\"gist-meta\"\u003E\n        \u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fperade\u002Fdef10d403bb2cbc16313357934a01ca3\u002Fraw\u002F5f5f05f631faa2e847e9370734138d7db0630052\u002Fexample-MutationObserver.js\" style=\"float:right\"\u003Eview raw\u003C\u002Fa\u003E\n        \u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Fperade\u002Fdef10d403bb2cbc16313357934a01ca3#file-example-mutationobserver-js\"\u003Eexample-MutationObserver.js\u003C\u002Fa\u003E\n        hosted with &#10084; by \u003Ca href=\"https:\u002F\u002Fgithub.com\"\u003EGitHub\u003C\u002Fa\u003E\n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003Cp\u003E코드를 보면 사용이 굉장히 간단한 것을 확인할 수 있다. 큰 흐름은 아래와 같다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E감시할 대상을 정함\u003C\u002Fli\u003E\n\u003Cli\u003E감시자를 생성\u003C\u002Fli\u003E\n\u003Cli\u003E필요에 따라 감시를 ON \u002F OFF\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E특정 DOM Node를 observe 함수를 실행하여 감시하고 있다가 해당 Node가 변경되면 Callback 함수를 실행하여 원하는 동작을 취할 수 있다. observe 함수 실행 시 옵션을 같이 전달할 수 있는데, 옵션 이름을 보면 해당 옵션이 어떤 목적인지 쉽게 유추할 수 있다. (attributes: true 는 id, class 등 해당 Node의 속성 변경을 감시, childList: true 는 해당 Node의 자식들이 변경되는지 감시 등)\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E다시 예전으로 돌아가서, 필자는 당시 MutationObserver를 활용하여 이미지 resizing을 위한 canvas 엘리먼트가 생성되었음을 확인한 후 필요에 따라 토스트를 호출하는 식으로 로직을 수정하여 문제를 해결하였다.\u003C\u002Fp\u003E\n\u003Cp\u003E이처럼 DOM 변경에 따라 실행되어야 하는 동작이 있을 경우 MutationObserver를 유용하게 활용할 수 있다. 또한 Vue.js나 React.js와 같은 SPA 도구들에 의존하는 경우 가상 DOM을 거치기 때문에 애플리케이션의 규모나 복잡도가 높으면 각 컴포넌트들의 실제 DOM 반영 시점을 알기 어려운 경우가 종종 있다. 이러한 경우 MutationObserver를 활용한 디버깅용 Wrapper를 만들어 필요에 따라 활용할 수도 있다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Ch3 id=\"references\"\u003E\u003Ca href=\"#references\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EReferences\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fko\u002Fdocs\u002FWeb\u002FAPI\u002FMutationObserver\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fdeveloper.mozilla.org\u002Fko\u002Fdocs\u002FWeb\u002FAPI\u002FMutationObserver\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n"}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/blog/assets/js/app.cbd87594.js" defer></script><script src="/blog/assets/js/page--src-templates-tag-vue.d9ffa9a5.js" defer></script>
  </body>
</html>